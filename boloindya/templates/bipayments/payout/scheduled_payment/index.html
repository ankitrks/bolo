{% extends "base.html" %}


{% block center_content %}
    <div class="col-sm-11"  style="margin-left: 10px">
        <div class="row">
            <div id="scheduledPaymentTable"></div>
        </div>
    </div>
    
{% endblock center_content %}


{% block local_js %}
    <script type="text/javascript">
        $("#scheduledPaymentTable").jsGrid({
            width: "100%",
            height: "400px",

            inserting: false,
            editing: false,
            sorting: true,
            paging: true,
            pageLoading: true,
            autoload: true,
            fields: [
                { title: "ID", name: "id", type: "number", visible:false },
                { title: "Created At", name: "created_at", type: "text", width: 90, validate: "required" },
                { title: "Amount", name: "amount", type: "number", width: 50 },
                { title: "Payment Date", name: "payment_date", type: "select", width: 50},
                { title: "Created By", name: "created_by", type: "text", width: 50 },
                { title: "Active", type: "checkbox", name: "is_active", sorting: false, width:22 },
                { type: "control" }
            ],
            controller: {
                loadData: function(filter) {
                    console.log("------ loadData ", filter)
                    return $.ajax({
                        type: "GET",
                        url: "/api/v1/schedule-payment/",
                        data: filter
                    });
                },
                
                updateItem: function(item) {
                    return $.ajax({
                        type: "PUT",
                        url: "/api/v1/partner/"+item.id + "/",
                        data: item
                    });
                },
                
                deleteItem: function(item) {
                    return $.ajax({
                        type: "DELETE",
                        url: "/api/v1/partner/"+item.id,
                        data: item
                    });
                }
            }
        });
    </script>
{% endblock local_js %} 