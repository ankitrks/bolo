{% extends "admin/jarvis/base.html" %}
{% load kyc_template_tag %}
{% block content %}
    <div>
        <div class="userinfo">
            <div class="box-body">
                <div class="box box-success">
                    <div class="box-header">
                        <h3 class="box-title">Personal Details</h3>
                    </div>
                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Username</label>
                                            <span class="col-sm-8">
                                                <i>{{userprofile.user.username}}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">User Full Name</label>
                                            <span class="col-sm-8">
                                                <i>{{ userprofile.name }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">User Bolo Score</label>
                                            <span class="col-sm-8">
                                                <i>{{ userprofile.bolo_score }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">User Bio</label>
                                            <span class="col-sm-8">
                                                <i>{{ userprofile.bio }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">User About</label>
                                            <span class="col-sm-8">
                                                <i>{{ userprofile.about }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Gender</label>
                                            <span class="col-sm-8">
                                                <i>{{ userprofile.get_gender_display }}</i>
                                            </span>
                                        </div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">User Mobile No</label>
                                            <span class="col-sm-8">
                                                <i>{{ userprofile.mobile_no }}</i>
                                            </span>
                                        </div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">VB Count</label>
                                            <span class="col-sm-8">
                                                <i>{{ userprofile.vb_count }}</i>
                                            </span>
                                        </div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">VB view_count</label>
                                            <span class="col-sm-8">
                                                <i>{{ userprofile.view_count }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="w3-card-4 test" style="width:100%;margin: 0 auto;">
                                    <img style="width:100%;" src="{{ userprofile.profile_pic }}" alt="Avatar" style="width:100%;margin: 0 auto;">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="w3-card-4 test" style="width:100%;margin: 0 auto;text-align:center;">
                                    <img style="width:100%;" src="{{ kyc_basic_info.pic_selfie_url|get_safe_url:user }}" alt="Avatar" style="width:100%;margin: 0 auto;">
                                    <p>Selfie</p>
                                    <span>
                                        <button type="button" class="btn btn-primary kyc_accept" kyc_id="{{kyc_basic_info.id}}" kyc_type="kyc_profile_pic" user_id="{{kyc_basic_info.user.id}}" >Accept</button>
                                        <button type="button" class="btn btn-danger kyc_reject" kyc_id="{{kyc_basic_info.id}}" kyc_type="kyc_profile_pic" user_id="{{kyc_basic_info.user.id}}" >Reject</button>
                                    </span>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.box-body -->
            </div>
        </div>
        <div class="basic_info">
            <div class="box-body">
                <div class="box box-primary">
                    <div class="box-header">
                        <h3 class="box-title">Baisc Info</h3>
                        {% if not kyc_details.is_kyc_basic_info_accepted %}
                            <span style="float:right;">
                                <button type="button" class="btn btn-primary kyc_accept" kyc_id="{{kyc_basic_info.id}}" kyc_type="basic_info" user_id="{{kyc_basic_info.user.id}}" >Accept</button>
                                <button type="button" class="btn btn-danger kyc_reject" kyc_id="{{kyc_basic_info.id}}" kyc_type="basic_info" user_id="{{kyc_basic_info.user.id}}" >Reject</button>
                            </span>
                    {% endif %}
                    </div>
                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">First Name</label>
                                            <span class="col-sm-8">
                                                <i>{{kyc_basic_info.first_name}}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">User Middle Name</label>
                                            <span class="col-sm-8">
                                                <i>{{ kyc_basic_info.middle_name }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">User Last Name</label>
                                            <span class="col-sm-8">
                                                <i>{{ kyc_basic_info.last_name }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">User Bio</label>
                                            <span class="col-sm-8">
                                                <i>{{ kyc_basic_info.d_o_b }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Mobile No</label>
                                            <span class="col-sm-8">
                                                <i>{{ kyc_basic_info.mobile_no }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Email</label>
                                            <span class="col-sm-8">
                                                <i>{{ kyc_basic_info.email }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.box-body -->
            </div>
        </div>
        {% for each_document in kyc_document %}
            {% if not each_document.kyc_document_type.name == 'pan' or not each_document.kyc_document_type.name == 'PAN'%}
                <div class="document_info">
                    <div class="box-body">
                        <div class="box box-danger">
                            <div class="box-header">
                                <h3 class="box-title">Documnet Info</h3>
                                {% if not kyc_details.is_kyc_document_info_accepted %}
                                    <span style="float:right;">
                                        <button type="button" class="btn btn-primary kyc_accept" kyc_id="{{kyc_basic_info.id}}" kyc_type="kyc_document" user_id="{{kyc_basic_info.user.id}}" >Accept</button>
                                        <button type="button" class="btn btn-danger kyc_reject" kyc_id="{{each_document.id}}" kyc_type="kyc_document" user_id="{{each_document.user.id}}" >Reject</button>
                                    </span>
                                {% endif %}
                            </div>
                            <div class="box-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="row">
                                            {% if each_document.kyc_document_type.no_image_required == 2 %}
                                                <div class="col-md-6">
                                                    <div class="box-body">
                                                        <div class="box box-primary">
                                                            <div class="box-header">
                                                                <h3 class="box-title">Front Side</h3>
                                                            </div>
                                                            <div class="box-body">
                                                                <div class="row">
                                                                    <img style="width:100%;" src="{{each_document.frontside_url|get_safe_url:user}}">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                    
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="box-body">
                                                        <div class="box box-primary">
                                                            <div class="box-header">
                                                                <h3 class="box-title">Back Side</h3>
                                                            </div>
                                                            <div class="box-body">
                                                                <div class="row">
                                                                    <img style="width:100%;" src="{{each_document.backside_url|get_safe_url:user}}">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                    
                                                </div>
                                            {%elif each_document.kyc_document_type.no_image_required == 1 %}
                                                <div class="col-md-12">
                                                    <div class="box-body">
                                                        <div class="box box-primary">
                                                            <div class="box-header">
                                                                <h3 class="box-title">Doc Image</h3>
                                                            </div>
                                                            <div class="box-body">
                                                                <div class="row">
                                                                    <img style="width:320px;height:480px;margin:0 auto;" src="{{each_document.frontside_url|get_safe_url:user}}">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                    
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                </div>
            {% endif %}
        {% endfor %}
        {% for each_document in kyc_document %}
            {% if each_document.kyc_document_type.name == 'pan' or each_document.kyc_document_type.name == 'PAN'%}
                <div class="pan_info">
                    <div class="box-body">
                        <div class="box box-danger">
                            <div class="box-header">
                                <h3 class="box-title">PAN Info</h3>
                                {% if not kyc_details.is_kyc_pan_info_accepted %}
                                    <span style="float:right;">
                                        <button type="button" class="btn btn-primary kyc_accept" kyc_id="{{each_document.id}}" kyc_type="kyc_pan" user_id="{{each_document.user.id}}" >Accept</button>
                                        <button type="button" class="btn btn-danger kyc_reject" kyc_id="{{each_document.id}}" kyc_type="kyc_pan" user_id="{{each_document.user.id}}" >Reject</button>
                                    </span>
                                {% endif %}
                            </div>
                            <div class="box-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="row">
                                            {% if each_document.kyc_document_type.no_image_required == 2 %}
                                                <div class="col-md-6">
                                                    <div class="box-body">
                                                        <div class="box box-primary">
                                                            <div class="box-header">
                                                                <h3 class="box-title">Front Side</h3>
                                                            </div>
                                                            <div class="box-body">
                                                                <div class="row">
                                                                    <img style="width:100%;" src="{{each_document.frontside_url|get_safe_url:user}}">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                    
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="box-body">
                                                        <div class="box box-primary">
                                                            <div class="box-header">
                                                                <h3 class="box-title">Back Side</h3>
                                                            </div>
                                                            <div class="box-body">
                                                                <div class="row">
                                                                    <img style="width:100%;" src="{{each_document.backside_url|get_safe_url:user}}">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                    
                                                </div>
                                            {%elif each_document.kyc_document_type.no_image_required == 1 %}
                                                <div class="col-md-12">
                                                    <div class="box-body">
                                                        <div class="box box-primary">
                                                            <div class="box-header">
                                                                <h3 class="box-title">Doc Image</h3>
                                                            </div>
                                                            <div class="box-body">
                                                                <div class="row">
                                                                    <img style="width:320px;height:480px;margin:0 auto;" src="{{each_document.frontside_url|get_safe_url:user}}">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                </div>
            {% endif %}
        {% endfor %}
        <div class="additional_info">
            <div class="box-body">
                <div class="box box-success">
                    <div class="box-header">
                        <h3 class="box-title">Additional Info</h3>
                        {% if not kyc_details.is_kyc_additional_info_accepted %}
                                    <span style="float:right;">
                                        <button type="button" class="btn btn-primary kyc_accept" kyc_id="{{additional_info.id}}" kyc_type="kyc_additional_info" user_id="{{additional_info.user.id}}" >Accept</button>
                                        <button type="button" class="btn btn-danger kyc_reject" kyc_id="{{additional_info.id}}" kyc_type="kyc_additional_info" user_id="{{additional_info.user.id}}" >Reject</button>
                                    </span>
                                {% endif %}
                    </div>
                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Father First Name</label>
                                            <span class="col-sm-8">
                                                <i>{{additional_info.father_firstname}}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Father Last Name</label>
                                            <span class="col-sm-8">
                                                <i>{{ additional_info.father_lastname }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Mother First Name</label>
                                            <span class="col-sm-8">
                                                <i>{{ additional_info.mother_firstname }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Mother Last Name</label>
                                            <span class="col-sm-8">
                                                <i>{{ additional_info.mother_lastname }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Profession</label>
                                            <span class="col-sm-8">
                                                <i>{{ additional_info.get_profession_display }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                        <div class="form-group" style="padding-bottom: 30px;">
                                            <label for="" class="col-sm-4 control-label">Status</label>
                                            <span class="col-sm-8">
                                                <i>{{ additional_info.get_status_display }}</i>
                                            </span>
                                        </div>
                                        <div class="clearer" style="clear: both;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="bank_info">
            <div class="box-body">
                <div class="box box-success">
                    <div class="box-header">
                        <h3 class="box-title">Bank Details</h3>
                        {% if not kyc_details.is_kyc_additional_info_accepted %}
                                    <span style="float:right;">
                                        <button type="button" class="btn btn-primary kyc_accept" kyc_id="{{bank_details.id}}" kyc_type="kyc_bank_details" user_id="{{bank_details.user.id}}" >Accept</button>
                                        <button type="button" class="btn btn-danger kyc_reject" kyc_id="{{bank_details.id}}" kyc_type="kyc_bank_details" user_id="{{bank_details.user.id}}" >Reject</button>
                                    </span>
                                {% endif %}
                    </div>
                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-12">
                                        {% if kyc_details.mode_of_transaction == '1'%}
                                            <div class="form-group" style="padding-bottom: 30px;">
                                                <label for="" class="col-sm-4 control-label">Bank Name</label>
                                                <span class="col-sm-8">
                                                    <i>{{bank_details.bank_name}}</i>
                                                </span>
                                            </div>
                                            <div class="clearer" style="clear: both;"></div>
                                            <div class="form-group" style="padding-bottom: 30px;">
                                                <label for="" class="col-sm-4 control-label">Account Name</label>
                                                <span class="col-sm-8">
                                                    <i>{{ bank_details.account_name }}</i>
                                                </span>
                                            </div>
                                            <div class="clearer" style="clear: both;"></div>
                                            <div class="form-group" style="padding-bottom: 30px;">
                                                <label for="" class="col-sm-4 control-label">Account Number</label>
                                                <span class="col-sm-8">
                                                    <i>{{ bank_details.account_number }}</i>
                                                </span>
                                            </div>
                                            <div class="clearer" style="clear: both;"></div>
                                            <div class="form-group" style="padding-bottom: 30px;">
                                                <label for="" class="col-sm-4 control-label">IFSC Code</label>
                                                <span class="col-sm-8">
                                                    <i>{{ bank_details.IFSC_code }}</i>
                                                </span>
                                            </div>
                                        {% else %}
                                            <div class="form-group" style="padding-bottom: 30px;">
                                                <label for="" class="col-sm-4 control-label">Paytm Number</label>
                                                <span class="col-sm-8">
                                                    <i>{{ bank_details.paytm_number }}</i>
                                                </span>
                                            </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
    </div>
{% endblock content %}
{% block center_js %}
    <script src="{% static 'js/kyc.js' %}"></script>
{% endblock center_js %}    
        